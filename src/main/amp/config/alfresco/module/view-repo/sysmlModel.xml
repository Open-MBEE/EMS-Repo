<?xml version="1.0" encoding="UTF-8"?>
<model xmlns="http://www.alfresco.org/model/dictionary/1.0" name="sysml:sysmlModel">
    <description>SysML Lite Extension model</description>
    <author>JPL</author>
    <version>1.0</version>
    <imports>
        <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
        <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
    </imports>
    <namespaces>
        <namespace uri="http://jpl.nasa.gov/model/sysml-lite/1.0" prefix="sysml"/>
        <namesapce uri="http://jpl.nasa.gov/model/view/2.0" prefix="view2"/>
    </namespaces>
    <data-types/>
    <constraints/>
    <types>      
    	<type name="sysml:Project">
    		<parent>cm:folder</parent>
    		<mandatory-aspects>
    			<aspect>sysml:Identifiable</aspect>
    		</mandatory-aspects>
    	</type>  
        <type name="sysml:Element">
            <parent>cm:content</parent>
            <properties/>
            <associations>
            	<child-association name="sysml:reifiedContainment">
            		<source>
            			<mandatory>false</mandatory>
            			<many>false</many>
            		</source>
            		<target>
            			<class>sysml:ElementFolder</class>
            			<mandatory>true</mandatory>
            			<many>false</many>
            		</target>
            	</child-association>
            </associations>
            <overrides/>
            <mandatory-aspects>
            	<aspect>sysml:Identifiable</aspect>
            	<aspect>sysml:Named</aspect>
            	<aspect>cm:versionable</aspect>
            	<aspect>cm:taggable</aspect>
            	<aspect>cm:titled</aspect> <!-- this is purely here for showing in ui, should show sysml:name instead -->
           <!--   	<aspect>cm:lockable</aspect> -->
            </mandatory-aspects>
        </type>
        <type name="sysml:ElementFolder"> <!--  this is the "container" folder for each element -->
        	<parent>cm:folder</parent>
        	<mandatory-aspects>
        		<aspect>sysml:Named</aspect> <!--  should we make sysml:name property in an aspect instead -->
        	</mandatory-aspects>
        </type>
        <type name="sysml:Package">
        	<parent>sysml:Element</parent>
        </type>
        <type name="sysml:Viewpoint"> 
        	<parent>sysml:Element</parent>
        </type>
        <type name="sysml:Property"> <!--  there are more attributes like navigable that ties into the association relationship, but that's a more complex discussion -->
            <parent>sysml:Element</parent>
            <properties>
                <property name="sysml:isDerived">
                	<type>d:boolean</type>
                	<mandatory>false</mandatory>
                	<default>false</default>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
      <!--      <property name="sysml:multiplicityMax">
                    <type>d:int</type>
                    <mandatory>false</mandatory>
                    <default>1</default>
                    <index enabled="true">
                        <atomic>false</atomic>
                        <stored>false</stored>
                        <tokenised>false</tokenised>
                    </index>
                </property>
                <property name="sysml:multiplicityMin">
                    <type>d:int</type>
                    <mandatory>false</mandatory>
                    <default>1</default>
                    <index enabled="true">
                        <atomic>false</atomic>
                        <stored>false</stored>
                        <tokenised>false</tokenised>
                    </index>
                </property>
                <property name="sysml:associationType"> 
                	<type>d:text</type>
                	<mandatory>false</mandatory>
                	<default>composite</default> 
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property >-->
            </properties>
            <associations>
            	<association name="sysml:type">
                    <source>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </source>
                    <target>
                        <class>sysml:Element</class>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </target>
                </association>
                <child-association name="sysml:value"> <!--  a property can only have 1 default value, slots can have multiple -->
                    <source>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </source>
                    <target>
                        <class>sysml:ValueSpecification</class>
                        <mandatory>false</mandatory>
                        <many>false</many> <!--  allow many for slots? -->
                    </target>
                </child-association>
            </associations>
            <overrides/>
            <mandatory-aspects/>
        </type>
        <type name="sysml:ValueSpecification">
        	<parent>sysml:Element</parent>
        </type>
        <type name="sysml:LiteralString">
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:string">
                	<type>d:text</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:LiteralBoolean">
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:boolean">
                	<type>d:boolean</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:LiteralInteger"> <!--  also servers as LiteralUnlimitedNatural -->
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:integer">
                	<type>d:int</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:LiteralReal">
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:double">
                	<type>d:double</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:ElementValue">
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:elementValue">
                	<type>d:noderef</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:Expression">
        	<parent>sysml:ValueSpecification</parent>
        	<properties>
        		<property name="sysml:expression">
                	<type>d:text</type>
                	<mandatory>false</mandatory>
                	<index enabled="true">
                		<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>false</tokenised>
                	</index>
                </property>
            </properties>
        </type>
        <type name="sysml:Relationship">
        	<parent>sysml:Element</parent>
        	<properties/>
        	<associations>
        		<association name="sysml:source">
        			<source>
        				<mandatory>false</mandatory>
        				<many>false</many>
        			</source>
        			<target>
        				<class>sysml:Element</class>
        				<mandatory>true</mandatory>
        				<many>false</many>
        			</target>
        		</association>
        		<association name="sysml:target">
        			<source>
        				<mandatory>false</mandatory>
        				<many>false</many>
        			</source>
        			<target>
        				<class>sysml:Element</class>
        				<mandatory>true</mandatory>
        				<many>false</many>
        			</target>
        		</association>
        	</associations>
        </type>
        <type name="sysml:Dependency">
        	<parent>sysml:Relationship</parent>
        </type>
        <type name="sysml:Expose">
        	<parent>sysml:Dependency</parent>
        </type>
        <type name="sysml:Conform">
        	<parent>sysml:Dependency</parent>
        </type>
        <type name="sysml:Generalization">
        	<parent>sysml:Relationship</parent>
        </type>
        <type name="sysml:View"> 				<!--  i still think this should be an aspect... -->
        	<parent>sysml:Viewpoint</parent>
            <properties>
                <property name="view2:contains"> <!-- json string cache of the rendered view  structure and element transclusion -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
                <property name="view2:sources"> <!--  json string cache of all elements referenced in this view -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="true">
                    	<atomic>false</atomic>
                		<stored>false</stored>
                		<tokenised>true</tokenised>
                    </index>
                </property>
                <property name="view2:allowedSources"> <!--  json string cache of all elements allowed to be transcluded in this view -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
                <property name="view2:childrenViews"> <!--  json string cache of child views element ids -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
            </properties>
            <associations/>
            <overrides/>
            <mandatory-aspects/>
        </type>
         <type name="view2:Product"> <!--  this is in sysml spec?? -->
            <parent>sysml:View</parent>
            <properties>
                <property name="view2:view2view"> <!--  json string cache of the whole document view hierarchy -->
                	<type>d:text</type>
                	<mandatory>false</mandatory>
                	<index enabled="false"/>
                </property>
                <property name="view2:noSections"> <!--  json string cache of which views are no sections (may go away in future) -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
                <property name="view2:rootViews"> <!--  json string cache of which views the root level views -->
                	<type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
            </properties>
            <associations>
            	<association name="view2:snapshots">
                    <source>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </source>
                    <target>
                        <class>view2:ConfigurationPoint</class>
                        <mandatory>false</mandatory>
                        <many>true</many>
                    </target>
                </association>
            </associations>
            <overrides/>
            <mandatory-aspects/>
        </type>
        <type name="view2:ConfigurationPoint">
            <parent>cm:content</parent>
            <properties>
            	<property name="view2:productJson">
                    <type>d:text</type>
                    <mandatory>false</mandatory>
                    <index enabled="false"/>
                </property>
            </properties>
            <associations>
            	<association name="view2:html">
                    <source>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </source>
                    <target>
                        <class>cm:content</class>
                        <mandatory>false</mandatory>
                        <many>false</many>
                    </target>
                </association>
            </associations>
            <overrides/>
            <mandatory-aspects>
            	<aspect>cm:versionable</aspect>
            	<aspect>cm:taggable</aspect>
            </mandatory-aspects>
        </type>
    </types>
    <aspects>
        <aspect name="sysml:Identifiable">
        	<properties>
        		<property name="sysml:id">
        			<type>d:text</type>
        			<mandatory>true</mandatory>
        			<index enabled="true">
                    	<atomic>true</atomic>
                    	<stored>false</stored>
                    	<tokenised>false</tokenised>
                    </index>
        		</property>
        	</properties>
        </aspect>
        <aspect name="sysml:Named">
        	<properties>
        		<property name="sysml:name">
        			<type>d:text</type>
        			<mandatory>true</mandatory>
        			<index enabled="true">
                    	<atomic>false</atomic>
                    	<stored>false</stored>
                    	<tokenised>both</tokenised>
                    </index>
        		</property>
        	</properties>
        </aspect>
    </aspects>
</model>
